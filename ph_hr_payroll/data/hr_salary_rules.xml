<odoo>
    <!-- Define Basic Salary Rule -->
    <record id="ph_basic" model="hr.salary.rule">
        <field name="name">Basic</field>
        <field name="code">BASIC</field>
        <field name="struct_id" ref="ph_hr_payroll.ph_salary_structure"/>
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = contract.wage</field>
    </record>

    <!-- Government and Loan Deduction Rules -->
    <record id="ph_sss" model="hr.salary.rule">
        <field name="name">SSS Contribution</field>
        <field name="code">SSS</field>
        <field name="struct_id" ref="ph_hr_payroll.ph_salary_structure"/>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="amount_select">fix</field>
        <field name="amount_fix">500</field>
        <field name="appears_on_payslip">True</field>
    </record>

    <record id="ph_philhealth" model="hr.salary.rule">
        <field name="name">PhilHealth Contribution</field>
        <field name="code">PHILHEALTH</field>
        <field name="struct_id" ref="ph_hr_payroll.ph_salary_structure"/>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="amount_select">fix</field>
        <field name="amount_fix">400</field>
        <field name="appears_on_payslip">True</field>
    </record>

    <record id="ph_pagibig" model="hr.salary.rule">
        <field name="name">Pag-IBIG Contribution</field>
        <field name="code">PAGIBIG</field>
        <field name="struct_id" ref="ph_hr_payroll.ph_salary_structure"/>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="amount_select">fix</field>
        <field name="amount_fix">100</field>
        <field name="appears_on_payslip">True</field>
    </record>

    <!-- Loan deduction computed from employee loans -->
    <record id="ph_loan" model="hr.salary.rule">
        <field name="name">Loan Deduction</field>
        <field name="code">LOAN</field>
        <field name="struct_id" ref="ph_hr_payroll.ph_salary_structure"/>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
            result = sum(loan.monthly_deduction for loan in employee.loan_ids if loan.state == 'active')
        </field>
        <field name="appears_on_payslip">True</field>
    </record>

    <!-- Simple withholding tax rule -->
    <record id="ph_tax" model="hr.salary.rule">
        <field name="name">Withholding Tax</field>
        <field name="code">TAX</field>
        <field name="struct_id" ref="ph_hr_payroll.ph_salary_structure"/>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
            result = (contract.wage - 1000) * 0.15 if contract.wage &gt; 1000 else 0
        </field>
        <field name="appears_on_payslip">True</field>
    </record>
</odoo>
